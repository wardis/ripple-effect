<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Ripple Effect Landing</title>
    <link rel="stylesheet" href="style.css" />
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.0.1/dist/gsap.min.js"></script>
    <script
      nomodule=""
      src="https://unpkg.com/ionicons@4.5.10-0/dist/ionicons/ionicons.js"
    ></script>
  </head>
  <body>
    <script src="./pixi.min.js"></script>
    <script type="text/javascript">
      console.clear();

      function setup() {
        // create the scene
        const app = new PIXI.Application({
          width: window.innerWidth,
          height: window.innerHeight
        });
        document.body.appendChild(app.view);

        // add the background
        const bg = new PIXI.Sprite.from("bg.jpg");
        bg.width = app.renderer.width;
        bg.height = app.renderer.height;
        app.stage.addChild(bg);

        // add displacement map
        displacementSprite = new PIXI.Sprite.from("water.png");
        displacementFilter = new PIXI.filters.DisplacementFilter(
          displacementSprite
        );
        displacementSprite.texture.baseTexture.wrapMode =
          PIXI.WRAP_MODES.REPEAT;
        app.stage.addChild(displacementSprite);
        app.stage.filters = [displacementFilter];

        animate();
      }

      // animate
      function animate() {
        displacementSprite.x += 1;
        displacementSprite.y += 2;
        requestAnimationFrame(animate);
      }

      setup();
    </script>
  </body>
</html>
